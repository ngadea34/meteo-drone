<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Calendrier météo des interventions drone — v2 (no-fly, robuste)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Local : python -m http.server 3000 -->
  <!-- Ouvrir : http://localhost:3000/calendrier_meteo_drone_v2.htm -->
  <style>
    :root {
      --bg-color: #121212;
      --fg-color: #e0e0e0;
      --accent-color: #90caf9;
      --border-color: #333;
      --muted: #9aa0a6;
    }
    * { box-sizing: border-box; }
    body {
      background: linear-gradient(180deg,#0f1116,#111624 40%,#0f1116);
      color: var(--fg-color);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans",sans-serif;
      margin: 0;
    }
    header {
      padding: 12px 16px;
      border-bottom: 1px solid var(--border-color);
      display: grid;
      grid-template-columns: 1fr auto auto auto;
      gap: 8px 12px;
      align-items: center;
    }
    .controls, .loc-controls { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
    .chip { background:#1c2233; border:1px solid #27324a; color:#cfe3ff; padding:6px 10px; border-radius:10px; }
    button, input[type="number"], input[type="text"], select, label {
      background-color: #1b1f2b;
      color: var(--fg-color);
      border: 1px solid var(--border-color);
      padding: 6px 10px;
      border-radius: 8px;
    }
    button { cursor: pointer; }
    button:hover { background-color: #232a3a; }
    input[type="checkbox"]{ transform: scale(1.1); margin-right: 4px; vertical-align: middle; }
    #calendar-container { margin-top: 8px; }
    #weekday-headers, #calendar {
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      border: 1px solid var(--border-color);
      border-bottom: none;
    }
    #calendar { border-top: none; border-bottom: 1px solid var(--border-color); grid-auto-rows: minmax(110px,auto); }
    .weekday-header { text-align: center; font-weight: 600; padding: 8px; background-color: #171c29; border-right: 1px solid var(--border-color); }
    .weekday-header:last-child{ border-right: none; }
    .day-cell { padding: 8px; background-color: #101521; border-right: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color); display:flex; flex-direction: column; justify-content: space-between; }
    .day-cell.indisponible { background-color: #1a2233; color: #b8c0cc; }
    .day-cell.today { outline: 2px solid var(--accent-color); outline-offset: -2px; }
    .day-number { font-weight: 700; font-size: .95rem; opacity:.95; }
    .day-info { font-size: .82rem; color: #eef5ff; }
    #status { margin-left: 8px; color: var(--muted); font-size: .9rem; }
    #
